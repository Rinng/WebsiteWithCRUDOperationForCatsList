@using System.Data.SqlClient;
@using System.Configuration;
@{
    Page.Title = "Add Member";
    //Layout = "Your Layout Page goes here";
    Layout = "~/Shared/_Layout.cshtml";
    //add member
    if (IsPost)
    {


        var catId = Request.Form["catId"].AsInt();
        var fName = Request.Form["fName"];
        var lName = Request.Form["lName"];
        var address = Request.Form["address"];
        var city = Request.Form["city"];
        var state = Request.Form["state"];
        var zip = Request.Form["zip"];
        var phone = Request.Form["phone"];
        

       @Function.AddMemberFunc(catId, fName, lName, address, city, state, zip, phone);

        Response.Redirect("~/ADOCRUDMembers");
    }

}
@section header {
    <h2><a href="~/Home.cshtml">Cat Lovers Only</a></h2>
    <h4>Where cat lover meet</h4>
    <nav>
        <ul>
            <li><a href="~/Home.cshtml"><strong>Home</strong></a></li>
            <li><a href="~/BuyingCat.cshtml"><strong>Buying a cat</strong></a></li>
            <li><a href="~/SellingCat.cshtml"><strong>selling a cat</strong></a></li>
            @* display about my account tag when user login *@
            @if (Session["username2"] == null)
            { }
            else
            {
                <li><a href="~/MyAccount.cshtml"><strong>My Account</strong></a></li>
            }
        </ul>
    </nav>

}

@section footer {

    <p>&copy; Cat loving</p>
}


<h2>Add a Member</h2>
@Html.ValidationSummary()


<form method="post">
    @*display infromation*@
    <fieldset>
        <legend>Card Information</legend>

        <p>            
            <label for="catId">Cat ID:</label>
            <input type="text" name="catId" value="" />
        </p>

        <p>
            <label for="fName">First Name:</label>
            <input type="text" name="fName" value="" />
        </p>

        <p>
            <label for="lName">Last Name:</label>
            <input type="text" name="lName" value="" />
        </p>
        
        <p>
            <label for="address">Address:</label>
            <input type="text" name="address" value="" />
        </p>

        <p>
            <label for="city">City:</label>
            <input type="text" name="city" value="" />
        </p>
        <p>
            <label for="state">State:</label>
            <input type="text" name="state" value="" />
        </p>

        <p>
            <label for="zip">Zip code:</label>
            <input type="text" name="zip" value="" />
        </p>


        <p>
            <label for="phone">Phone Number:</label>
            <input type="text" name="phone" value="" />
        </p>

        <input type="hidden" name="memberid" value="" />
        <p><input type="submit" name="buttonAdd" value="Add Member" /></p>
    </fieldset>
    <p><a href="~/ADOCRUDMembers.cshtml">Return to Members listing</a></p>
</form>



